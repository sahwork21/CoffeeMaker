<!DOCTYPE html>
<html ng-app="myApp" xmlns:th="http://www.thymeleaf.org">

<head>
	<title>Order History</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<script src="https://cdn.tailwindcss.com"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
	<script src="./orderHistory.js"></script>
	<script src="../components/navbar/navbar.component.js"></script>
</head>

<body ng-controller="OrderHistoryController" class="bg-gray-100">
	<navbar></navbar>
	<div class="w-full max-w-7xl mx-auto mt-8 p-3">
		<!-- Current Baristas List Section -->
		<div>
			<h1 class="my-2 text-lg font-semibold text-gray-500">Overview</h1>
			<div class="flex flex-wrap gap-2 my-2 lg:flex-nowrap">

				<div class="w-full p-2 rounded-lg bg-white">
					<h1 class="font-semibold text-gray-500">Total orders</h1>
					<p class="text-lg">{{orders.length}} orders</p>
				</div>

				<div class="w-full rounded-lg bg-white p-2">
					<h1 class="font-semibold text-gray-500">Most Popular Recipes</h1>

					<div class="" ng-repeat="recipe in popularRecipes">
						<p class="inline text-gray-700">{{recipe[0]}}</p>
						<p class="inline font-light text-sm text-gray-500">{{recipe[1]}} orders</p>
					</div>
				</div>

			</div>
		</div>

		<!-- Create new Barista section -->
		<form name="form" ng-submit="onSubmit()">
			<h1 class="my-2 text-lg font-semibold text-gray-500">History</h1>

			<div class="w-full flex justify-between mt-2 p-2 bg-white rounded-lg" ng-repeat="order in orders">
				<div>
					<h1 class="text-lg font-semibold">Order #{{order.id}}</h1>
					<p class="text-gray-700">Ordered by {{order.customer}}</p>
					<p ng-show="order.barista" class="text-gray-700">Fulfilled by {{order.barista}}</p>
				</div>

				<div class="text-right">
					<p class="mt-2">Placed on {{order.date}}</p>
					<div class="mt-1">
						<p class="inline">Status:</p>
						<p class="inline font-semibold">{{order.status}}</p>
					</div>
				</div>
			</div>

		</form>
	</div>
</body>

</html>